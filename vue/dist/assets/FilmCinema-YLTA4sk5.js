import{_ as z,r as E,d as _,c as m,a as t,t as l,F as v,z as g,b as n,w as o,h as d,E as h,L as I,ag as C,a8 as M,o as r,G as w}from"./index-DNfxLx3V.js";/* empty css              *//* empty css            *//* empty css             *//* empty css               */import{r as u}from"./request-B9NmRS_H.js";const V={class:"film-header",style:{background:"linear-gradient(to right, #46187e, #32046b, #32115b)"}},$={class:"film-content"},x=["src"],B={class:"film-info"},S={class:"film-title"},T={class:"film-english"},H={class:"film-tags"},N={class:"film-meta"},q={class:"film-release"},L={class:"film-stats"},R={class:"stats-score"},A={class:"score-number"},G={class:"big-score"},U={class:"score-stars"},W={class:"rate-count"},j={class:"boxoffice-number"},J={class:"big-number"},K={class:"page-content"},O={key:0,class:"cinema-list"},P={class:"cinema-info"},Q=["src"],X={class:"cinema-details"},Y={class:"cinema-name"},Z={class:"cinema-tags"},tt={class:"cinema-address"},st={class:"cinema-contact"},et={class:"cinema-contact"},it={class:"cinema-actions"},at={key:1,class:"no-cinema-container"},lt={class:"empty-actions"},ot={__name:"FilmCinema",setup(nt){const e=E({filmId:_.currentRoute.value.query.id,filmData:{},cinemaData:[],scoreTime:0,halfScore:0}),y=()=>{u.get("/show/selectByFilmId/"+e.filmId).then(i=>{i.code==="200"?e.cinemaData=i.data:h.error(i.msg)})},D=()=>{e.filmId=_.currentRoute.value.query.id,u.get("/film/selectById/"+e.filmId).then(i=>{i.code==="200"?(e.filmData=i.data,e.halfScore=(e.filmData.score/2).toFixed(1),e.filmData.total||(e.filmData.total=0)):h.error(i.msg)})},b=()=>{u.get("/score/selectAll",{params:{filmId:e.filmId}}).then(i=>{i.code==="200"&&(e.scoreTime=i.data.length)})};return D(),y(),b(),(i,s)=>{const c=I,k=C,f=w,F=M;return r(),m("div",null,[t("div",V,[t("div",$,[t("img",{src:e.filmData.img,alt:"",class:"film-poster"},null,8,x),t("div",B,[t("div",S,l(e.filmData.title),1),t("div",T,l(e.filmData.english),1),t("div",H,[(r(!0),m(v,null,g(e.filmData.types,(a,p)=>(r(),m("span",{key:p,class:"film-tag"},l(a),1))),128))]),t("div",N,l(e.filmData.areaName)+" / "+l(e.filmData.time)+"分钟",1),t("div",q,l(e.filmData.start)+" 中国大陆上映",1),n(c,{class:"details-btn",onClick:s[0]||(s[0]=a=>i.$router.push("/front/filmDetail?id="+e.filmData.id))},{default:o(()=>s[4]||(s[4]=[d("查看更多电影详情")])),_:1})]),t("div",L,[s[7]||(s[7]=t("div",{class:"stats-label"},"影片口碑",-1)),t("div",R,[t("div",A,[t("span",G,l(e.filmData.score),1),s[5]||(s[5]=d(" 分"))]),t("div",U,[n(k,{modelValue:e.halfScore,"onUpdate:modelValue":s[1]||(s[1]=a=>e.halfScore=a),disabled:""},null,8,["modelValue"]),t("div",W,l(e.scoreTime)+"人评分",1)])]),s[8]||(s[8]=t("div",{class:"stats-label stats-boxoffice"},"累计票房",-1)),t("div",j,[t("span",J,l((e.filmData.total*1).toFixed(2)),1),s[6]||(s[6]=d(" 元"))])])])]),t("div",K,[s[18]||(s[18]=t("div",{class:"section-title"},"放映影院",-1)),e.cinemaData&&e.cinemaData.length>0?(r(),m("div",O,[(r(!0),m(v,null,g(e.cinemaData,(a,p)=>(r(),m("div",{class:"cinema-item",key:p},[t("div",P,[t("img",{src:a.avatar,alt:"",class:"cinema-avatar"},null,8,Q),t("div",X,[t("div",Y,l(a.name),1),t("div",Z,[n(f,{type:"danger",effect:"dark",size:"small"},{default:o(()=>s[9]||(s[9]=[d("退票无忧")])),_:1}),n(f,{type:"success",effect:"dark",size:"small"},{default:o(()=>s[10]||(s[10]=[d("儿童优惠")])),_:1}),n(f,{type:"primary",effect:"dark",size:"small"},{default:o(()=>s[11]||(s[11]=[d("WiFi覆盖")])),_:1}),n(f,{type:"info",effect:"dark",size:"small"},{default:o(()=>s[12]||(s[12]=[d("免费停车")])),_:1})]),t("div",tt,"地址："+l(a.address),1),t("div",st,"电话："+l(a.phone),1),t("div",et,"邮箱："+l(a.email),1)])]),t("div",it,[n(c,{type:"primary",onClick:dt=>i.$router.push("/front/cinemaDetail?id="+a.id+"&filmId="+e.filmId)},{default:o(()=>s[13]||(s[13]=[d(" 进入购票 ")])),_:2},1032,["onClick"])])]))),128))])):(r(),m("div",at,[n(F,{description:"暂无放映影院","image-size":200},{image:o(()=>s[14]||(s[14]=[t("div",{class:"custom-empty-image"},[t("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"160",height:"160"},[t("path",{d:"M720 288H304c-78.4 0-80 32-80 32v384s1.6 32 80 32h416c78.4 0 80-32 80-32V320s-1.6-32-80-32z",fill:"#FFF"}),t("path",{d:"M784 320v384c0 16-21.6 32-64 32H304c-42.4 0-64-16-64-32V320c0-16 21.6-32 64-32h416c42.4 0 64 16 64 32z",fill:"#E8F0FC"}),t("path",{d:"M288 336h448v352H288z",fill:"#E8E8E8"}),t("path",{d:"M751.8 416a31.8 31.8 0 1 0 0 63.6 31.8 31.8 0 0 0 0-63.6z",fill:"#e6a23c"}),t("path",{d:"M306.9 800h410.2v32H306.9zM513.8 96a31.8 31.8 0 1 0 0 63.6 31.8 31.8 0 0 0 0-63.6zM272.2 192a31.8 31.8 0 1 0 0 63.6 31.8 31.8 0 0 0 0-63.6zM751.8 192a31.8 31.8 0 1 0 0 63.6 31.8 31.8 0 0 0 0-63.6zM640 512l-256 160V352l256 160z",fill:"#409EFF"})])],-1)])),description:o(()=>s[15]||(s[15]=[t("div",{class:"empty-description"},[t("p",null,"该电影暂无放映影院安排"),t("p",{class:"empty-subtitle"},"我们将尽快安排更多影院放映该电影")],-1)])),default:o(()=>[t("div",lt,[n(c,{type:"primary",onClick:s[2]||(s[2]=a=>i.$router.push("/front/filmList"))},{default:o(()=>s[16]||(s[16]=[d(" 查看其他热映电影 ")])),_:1}),n(c,{onClick:s[3]||(s[3]=a=>i.$router.push("/front/filmDetail?id="+e.filmId))},{default:o(()=>s[17]||(s[17]=[d(" 返回电影详情 ")])),_:1})])]),_:1})]))])])}}},_t=z(ot,[["__scopeId","data-v-7414730b"]]);export{_t as default};
