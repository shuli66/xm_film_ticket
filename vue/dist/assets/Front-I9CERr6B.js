import{_ as V,r as N,c as _,a as s,b as o,w as e,u as d,g as $,K as S,L as b,f as B,o as v,h as l,d as i,t as U,q as z,l as g,m as A,n as M,p as R}from"./index-DNfxLx3V.js";/* empty css               *//* empty css                      *//* empty css               *//* empty css                  *//* empty css              *//* empty css                */import"./request-B9NmRS_H.js";import{n as T}from"./api-YTng1EZn.js";const F="/assets/logo1-CjA2Tt5Z.png",J={class:"front-header"},O={class:"front-header-center"},j={style:{width:"450px"}},q={class:"front-header-right"},K={key:0},L={key:1},Z={style:{display:"flex","align-items":"center"}},G=["src"],H={style:{"margin-left":"5px"}},P={class:"main-body"},Q={__name:"Front",setup(W){const n=N({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),top:"",noticeData:[],title:null}),x=m=>{location.href=m},w=()=>{localStorage.removeItem("xm-user"),i.push("/login")},y=()=>{n.user=JSON.parse(localStorage.getItem("xm-user")||"{}")};return(()=>{T.getAll().then(m=>{n.noticeData=m.data;let t=0;n.noticeData&&n.noticeData.length&&(n.top=n.noticeData[0].content,setInterval(()=>{n.top=n.noticeData[t].content,t++,t===n.noticeData.length&&(t=0)},2500))})})(),(m,t)=>{const a=z,k=$,c=S,f=b,C=g("arrow-down"),D=A,u=M,p=R,E=B,I=g("RouterView");return v(),_("div",null,[s("div",J,[t[21]||(t[21]=s("div",{class:"front-header-left"},[s("img",{src:F,alt:""}),s("div",{class:"title"},"电影购票网站")],-1)),s("div",O,[o(k,{"default-active":d(i).currentRoute.value.path,router:"",mode:"horizontal"},{default:e(()=>[o(a,{index:"/front/home"},{default:e(()=>t[8]||(t[8]=[l("首页")])),_:1}),o(a,{index:"/front/film"},{default:e(()=>t[9]||(t[9]=[l("电影")])),_:1}),o(a,{index:"/front/cinema"},{default:e(()=>t[10]||(t[10]=[l("影院")])),_:1}),o(a,{index:"/front/charts"},{default:e(()=>t[11]||(t[11]=[l("排行榜")])),_:1}),o(a,{index:"/front/orders"},{default:e(()=>t[12]||(t[12]=[l("购票记录")])),_:1})]),_:1},8,["default-active"])]),s("div",j,[o(c,{style:{width:"250px","margin-right":"5px"},size:"large",modelValue:n.title,"onUpdate:modelValue":t[0]||(t[0]=r=>n.title=r)},null,8,["modelValue"]),o(f,{type:"primary",size:"large",onClick:t[1]||(t[1]=r=>x("/front/search?title="+n.title))},{default:e(()=>t[13]||(t[13]=[l("搜索")])),_:1})]),s("div",q,[n.user.id?(v(),_("div",L,[o(E,{style:{cursor:"pointer",height:"60px"}},{dropdown:e(()=>[o(p,null,{default:e(()=>[o(u,{onClick:t[4]||(t[4]=r=>d(i).push("/front/person"))},{default:e(()=>t[16]||(t[16]=[l("个人资料")])),_:1})]),_:1}),o(p,null,{default:e(()=>[o(u,{onClick:t[5]||(t[5]=r=>d(i).push("/front/collect"))},{default:e(()=>t[17]||(t[17]=[l("想看列表")])),_:1})]),_:1}),o(p,null,{default:e(()=>[o(u,{onClick:t[6]||(t[6]=r=>d(i).push("/front/notice"))},{default:e(()=>t[18]||(t[18]=[l("系统公告")])),_:1})]),_:1}),o(p,null,{default:e(()=>[o(u,{onClick:t[7]||(t[7]=r=>d(i).push("/front/password"))},{default:e(()=>t[19]||(t[19]=[l("修改密码")])),_:1})]),_:1}),o(p,null,{default:e(()=>[o(u,{onClick:w},{default:e(()=>t[20]||(t[20]=[l("退出登录")])),_:1})]),_:1})]),default:e(()=>[s("div",Z,[s("img",{style:{width:"40px",height:"40px","border-radius":"50%"},src:n.user.avatar,alt:""},null,8,G),s("span",H,U(n.user.name),1),o(D,null,{default:e(()=>[o(C)]),_:1})])]),_:1})])):(v(),_("div",K,[o(f,{onClick:t[2]||(t[2]=r=>d(i).push("/login"))},{default:e(()=>t[14]||(t[14]=[l("登录")])),_:1}),o(f,{onClick:t[3]||(t[3]=r=>d(i).push("/register"))},{default:e(()=>t[15]||(t[15]=[l("注册")])),_:1})]))])]),s("div",P,[o(I,{onUpdateUser:y})])])}}},it=V(Q,[["__scopeId","data-v-74923004"]]);export{it as default};
