import{_ as g,r as u,c as i,a as e,t as c,b as r,w as p,j as f,E as h,X as v,N,o as l,F as C,z as k,i as z,h as S,a7 as x}from"./index-DNfxLx3V.js";/* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css               *//* empty css            */import"./request-B9NmRS_H.js";import{c as E}from"./api-YTng1EZn.js";const w={class:"collect-container"},D={class:"collect-header"},b={class:"collect-count"},y={class:"collect-list"},B=["onClick"],V={class:"film-img-wrapper"},I=["src","alt"],P={class:"film-score"},F={class:"film-info"},$={class:"film-title"},j={key:0,class:"pagination-container"},A={__name:"Collect",setup(J){const t=u({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),pageNum:1,pageSize:10,total:0,collectData:[]}),n=()=>{E.getPage({pageNum:t.pageNum,pageSize:t.pageSize,userId:t.user.id}).then(o=>{o.code==="200"?(t.collectData=o.data.list,t.total=o.data.total):h.error(o.msg)})};return n(),(o,s)=>{const d=x,m=v,_=N;return l(),i("div",w,[e("div",D,[s[1]||(s[1]=e("h2",null,"我想看的电影",-1)),e("span",b,"("+c(t.total)+")",1)]),e("div",y,[r(m,{gutter:20},{default:p(()=>[(l(!0),i(C,null,k(t.collectData,a=>(l(),z(d,{span:4,key:a.id},{default:p(()=>[e("div",{class:"film-card",onClick:L=>o.$router.push("/front/filmDetail?id="+a.film.id)},[e("div",V,[e("img",{src:a.film.img,alt:a.film.title,class:"film-img"},null,8,I),e("div",P,[s[2]||(s[2]=e("i",{class:"el-icon-star-on"},null,-1)),S(" "+c(a.film.score)+"分 ",1)])]),e("div",F,[e("div",$,c(a.film.title),1)])],8,B)]),_:2},1024))),128))]),_:1})]),t.total?(l(),i("div",j,[r(_,{onCurrentChange:n,background:"",layout:"total, prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,"onUpdate:currentPage":s[0]||(s[0]=a=>t.pageNum=a),total:t.total},null,8,["page-size","current-page","total"])])):f("",!0)])}}},K=g(A,[["__scopeId","data-v-b720b42f"]]);export{K as default};
