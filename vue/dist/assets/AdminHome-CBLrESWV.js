import{r as l}from"./request-B9NmRS_H.js";import{r as f,c,a as t,t as o,E as n,o as h}from"./index-DNfxLx3V.js";import{i as p}from"./index-CrL2ELlk.js";const v="/assets/%E7%94%B5%E5%BD%B1%E6%95%B0%E9%87%8F-pUC2-7Xc.png",u="/assets/%E5%85%A5%E9%A9%BB%E5%BD%B1%E9%99%A2-CJJpNAS0.png",b="/assets/%E4%BB%8A%E6%97%A5%E7%A5%A8%E6%88%BF-CwYBUc08.png",A="/assets/%E6%80%BB%E8%AE%A1%E9%87%91%E9%A2%9D-DgvKfyAO.png",B={style:{display:"flex","grid-gap":"10px"}},E={style:{flex:"1",display:"flex","align-items":"center",height:"120px"},class:"card"},_={style:{flex:"1"}},D={style:{"font-size":"20px","font-weight":"bold"}},w={style:{flex:"1",display:"flex","align-items":"center",height:"120px"},class:"card"},z={style:{flex:"1"}},S={style:{"font-size":"20px","font-weight":"bold"}},O={style:{flex:"1",display:"flex","align-items":"center",height:"120px"},class:"card"},C={style:{flex:"1"}},F={style:{"font-size":"20px","font-weight":"bold"}},M={style:{flex:"1",display:"flex","align-items":"center",height:"120px"},class:"card"},k={style:{flex:"1"}},L={style:{"font-size":"20px","font-weight":"bold"}},U={__name:"AdminHome",setup(N){const s=f({baseData:{}});(()=>{l.get("/statistics/base").then(i=>{i.code==="200"?s.baseData=i.data:n.error(i.msg)})})();const m=()=>{l.get("/statistics/line").then(i=>{if(i.code==="200"){let e=document.getElementById("line"),a=p(e);d.xAxis.data=i.data.xAxis,d.series[0].data=i.data.yAxis,a.setOption(d)}else n.error(i.msg)})},g=()=>{l.get("/statistics/bar").then(i=>{if(i.code==="200"){let e=document.getElementById("bar"),a=p(e);r.xAxis.data=i.data.xAxis,r.series[0].data=i.data.yAxis,a.setOption(r)}else n.error(i.msg)})},y=()=>{l.get("/statistics/pie").then(i=>{if(i.code==="200"){let e=document.getElementById("pie"),a=p(e);x.series[0].data=i.data,a.setOption(x)}else n.error(i.msg)})};m(),g(),y();let d={title:{text:"近一周每日票房变化折线图",subtext:"统计维度：最近一周",left:"center"},legend:{data:[],template:""},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"item"},xAxis:{name:"日期",type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{name:"票房金额",type:"value"},series:[{name:"电影票房金额",data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0,markLine:{data:[{type:"average",name:"最近7天电影票房金额平均值"}]},markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]},r={title:{text:"不同类型电影总票房柱状图",subtext:"统计维度：电影类型",left:"center"},grid:{bottom:"30%"},legend:{orient:"vertical",left:"left"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],name:"电影类型",axisLabel:{show:!0,interval:0,rotate:-60,inside:!1,margin:6}},yAxis:{type:"value",name:"票房金额"},tooltip:{trigger:"item"},series:[{data:[120,200,150,80,70,110,130],type:"bar",itemStyle:{normal:{color:function(){return"#"+Math.floor(Math.random()*(256*256*256-1)).toString(16)}}}}]},x={title:{text:"不同类型电影数量统计图",subtext:"统计维度：电影类型",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"数量占比",type:"pie",radius:"50%",center:["50%","60%"],data:[{value:1048,name:"瑞幸咖啡"},{value:735,name:"雀巢咖啡"},{value:580,name:"星巴克咖啡"},{value:484,name:"栖巢咖啡"},{value:300,name:"小武哥咖啡"}]}]};return(i,e)=>(h(),c("div",null,[t("div",B,[t("div",E,[e[1]||(e[1]=t("div",{style:{flex:"1","text-align":"center"}},[t("img",{src:v,alt:"",style:{width:"80px",height:"80px"}})],-1)),t("div",_,[e[0]||(e[0]=t("div",{style:{"margin-bottom":"10px","font-size":"20px"}},"电影数量",-1)),t("div",D,o(s.baseData.filmNum),1)])]),t("div",w,[e[3]||(e[3]=t("div",{style:{flex:"1","text-align":"center"}},[t("img",{src:u,alt:"",style:{width:"80px",height:"80px"}})],-1)),t("div",z,[e[2]||(e[2]=t("div",{style:{"margin-bottom":"10px","font-size":"20px"}},"入驻影院",-1)),t("div",S,o(s.baseData.cinemaNum),1)])]),t("div",O,[e[5]||(e[5]=t("div",{style:{flex:"1","text-align":"center"}},[t("img",{src:b,alt:"",style:{width:"80px",height:"80px"}})],-1)),t("div",C,[e[4]||(e[4]=t("div",{style:{"margin-bottom":"10px","font-size":"20px"}},"今日票房",-1)),t("div",F,o((s.baseData.todayPrice*1).toFixed(2)),1)])]),t("div",M,[e[7]||(e[7]=t("div",{style:{flex:"1","text-align":"center"}},[t("img",{src:A,alt:"",style:{width:"80px",height:"80px"}})],-1)),t("div",k,[e[6]||(e[6]=t("div",{style:{"margin-bottom":"10px","font-size":"20px"}},"总计票房",-1)),t("div",L,o((s.baseData.totalPrice*1).toFixed(2)),1)])])]),e[8]||(e[8]=t("div",{style:{"margin-top":"10px",height:"400px"},class:"card",id:"line"},null,-1)),e[9]||(e[9]=t("div",{style:{"margin-top":"10px",display:"flex","grid-gap":"10px"}},[t("div",{style:{flex:"2",height:"400px"},class:"card",id:"pie"}),t("div",{style:{flex:"3",height:"400px","padding-top":"50px"},class:"card",id:"bar"})],-1))]))}};export{U as default};
